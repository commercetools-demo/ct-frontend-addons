var ne=Object.getPrototypeOf;var ae=Reflect.get;var q=(o,t,r)=>ae(ne(o),r,t);var tt=o=>class extends o{constructor(){super(...arguments);this.addMinimumQuantityToCart=async(s,e)=>{let a=await this.getCommercetoolsLocal(),n={version:+s.cartVersion,actions:e.map(c=>({action:"changeLineItemQuantity",lineItemId:c.lineItemId,quantity:c.quantity}))},i=await this.updateCart(s.cartId,n,a);return this.buildCartWithAvailableShippingMethods(i,a)}}};var X=(o,t)=>{if(t?.[o])return tt(t[o])};var ie=o=>{let t={};for(let r in o)o.hasOwnProperty(r)&&(t[r]=o[r]);return t},B=ie;var P=o=>U(o,"frontastic-path")??o.query.path,m=o=>{if((U(o,"frontastic-locale")??o.query.locale)!==void 0)return U(o,"frontastic-locale")??o.query.locale;throw new Error(`Locale is missing from request ${o}`)},C=o=>(U(o,"frontastic-currency")??o.query.currency)!==void 0?U(o,"frontastic-currency")??o.query.currency:"USD",U=(o,t)=>{if(o?.headers&&t in o.headers){let r=o.headers[t];return Array.isArray(r)?r[0]:r}return null},k=o=>{if(o!==void 0){let{businessUnitKey:t}=B(o.query);return t??o.sessionData?.businessUnitKey}return null},O=o=>{if(o!==void 0){let{storeKey:t}=B(o.query);return t??o.sessionData?.storeKey}return null},et=o=>{if(o!==void 0){let{storeId:t}=B(o.query);return t??o.sessionData?.storeId}return null},M=o=>{if(o!==void 0){let{distributionChannelId:t}=B(o.query);return t??o.sessionData?.distributionChannelId}return null},j=o=>{if(o!==void 0){let{supplyChannelId:t}=B(o.query);return t??o.sessionData?.supplyChannelId}return null};function H(o){if(o.sessionData?.account!==void 0)return o.sessionData.account}function ot(o){if(o.sessionData?.cartId!==void 0)return o.sessionData.cartId}var x=o=>o.sessionData?.superuser;var rt=(o,t)=>async(r,s)=>{let e=await o(r,s);if(e.statusCode===200&&e?.body){let a=JSON.parse(e?.body),n=X("CartApi",t?.dependencies);if(!n)return{statusCode:401,body:JSON.stringify("Dependencies not provided: CartApi")};let i=new n(s.frontasticContext,m(r),C(r),r),c=[];a.lineItems.forEach(d=>{let l=d.variant?.attributes?.[t?.props?.attributeName||""];l&&Number.isInteger(l)&&d.count<l&&c.push({lineItemId:d.lineItemId,quantity:l})});let p=await i.addMinimumQuantityToCart(a,c);return{...e,statusCode:200,body:JSON.stringify(p)}}return e},st=(o,t)=>async(r,s)=>{let e=await o(r,s);if(e.statusCode===200&&e?.body){let a=JSON.parse(e?.body),n=X("CartApi",t?.dependencies);if(!n)return{statusCode:401,body:JSON.stringify("Dependencies not provided: CartApi")};let i=new n(s.frontasticContext,m(r),C(r),r),c=[];a.lineItems.forEach(d=>{let l=d.variant?.attributes?.[t?.props?.attributeName||""];l&&Number.isInteger(l)&&d.count<l&&c.push({lineItemId:d.lineItemId,quantity:l})});let p=await i.addMinimumQuantityToCart(a,c);return{...e,statusCode:200,body:JSON.stringify(p)}}return e};var ce={actions:[{action:"addToCart",actionNamespace:"cart",hook:rt},{action:"updateLineItem",actionNamespace:"cart",hook:st}]},nt=ce;var Z=class extends Error{constructor({message:t,errors:r}){super(t||r?.[0]?.message),this.errors=r||[{message:t}]}};var w=class extends Z{constructor(t){super(t),this.status=t.status,this.body=t.body,this.code="external_error"}};var at=(o,t)=>class extends o{constructor(){super(...arguments);this.getCustomerByEmail=async e=>await this.requestBuilder().customers().get({queryArgs:{where:`email="${e}"`}}).execute().then(async n=>{if(n.body.results.length===1){let i=n.body.results[0];return t.commercetoolsCustomerToAccount(i)}throw new Error("Too many customers")}).catch(n=>{throw new w({status:n.code,message:n.message,body:n.body})})}};var it=(o,t)=>class extends o{constructor(){super(...arguments);this.changeLineItemPrice=async(e,a,n)=>{let i=await this.getCommercetoolsLocal(),c={version:+e.cartVersion,actions:[{action:"setLineItemPrice",lineItemId:a,externalPrice:n}]},p=await this.updateCart(e.cartId,c,i);return this.buildCartWithAvailableShippingMethods(p,i)};this.getOrderByID=async e=>await this.requestBuilder().orders().withId({ID:e}).get({queryArgs:{expand:"custom.type"}}).execute().then(n=>n.body).catch(n=>{throw new w({status:n.code,message:n.message,body:n.body})});this.getOrders=async e=>await this.requestBuilder().orders().get({queryArgs:{expand:["lineItems[*].discountedPrice.includedDiscounts[*].discount","discountCodes[*].discountCode","paymentInfo.payments[*]"],where:`customerId="${e.accountId}"`,sort:"createdAt desc"}}).execute().then(a=>a.body.results.map(n=>t.commercetoolsOrderToOrder(n))).catch(a=>{throw new w({status:a.code,message:a.message,body:a.body})});this.setSuperUserEmailOnOrder=async(e,a,n,i)=>{let c=await this.getOrderByID(e.cartId),p={};c.custom?.type?.obj?.key===n&&(p={...c.custom?.fields});let u={version:+e.orderVersion,actions:[{action:"setCustomType",type:{typeId:"type",key:n},fields:{...p,[i]:a}}]};return e=await this.requestBuilder().orders().withId({ID:e.cartId}).post({body:u}).execute().then(d=>t.commercetoolsOrderToOrder(d.body)).catch(d=>{throw new w({status:d.code,message:d.message,body:d.body})}),e};this.getActiveCartById=async e=>{let a=await this.getCommercetoolsLocal();return await this.requestBuilder().carts().withId({ID:e}).get({queryArgs:{limit:1,expand:["lineItems[*].discountedPrice.includedDiscounts[*].discount","discountCodes[*].discountCode","paymentInfo.payments[*]"]}}).execute().then(n=>{if(n.body.cartState!=="Active")throw new Error(`Cart ${e} is not active.`);return this.buildCartWithAvailableShippingMethods(n.body,a)}).catch(n=>{throw new w({status:n.code,message:n.message,body:n.body})})}}};var ct=o=>{var t;return t=class extends o{},t.commercetoolsCustomerToAccount=s=>({...q(t,t,"commercetoolsCustomerToAccount").call(this,s),customerGroupId:s.customerGroup?.id}),t};var pt=o=>{var t;return t=class extends o{},t.commercetoolsOrderToOrder=(s,e,a)=>({...q(t,t,"commercetoolsOrderToOrder").call(this,s,e,a),superUserEmail:s.custom?.fields?.superUserEmail}),t};var v=(o,t)=>{if(t?.[o])switch(o){case"CartApi":return it(t.CartApi,v("CartMapper",t));case"AccountApi":return at(t.AccountApi,v("AccountMapper",t));case"AccountMapper":return ct(t.AccountMapper);case"CartMapper":return pt(t.CartMapper)}};async function pe(o,t,r,s,e){let a=v("AccountApi",e?.dependencies);if(!a)return{statusCode:401,body:JSON.stringify("Dependencies not provided: AccountApi")};if(!s)return{statusCode:401,body:JSON.stringify("Impersonated customer email is required"),sessionData:{...o.sessionData,account:void 0,superUser:void 0}};let n=new a(t.frontasticContext,m(o),C(o),o),i,c={};try{i=await n.login(r,void 0),c=await n.getCustomerByEmail(s)}catch(u){if(u.code==="account_authentication_error")return{statusCode:401,body:JSON.stringify(u.message),sessionData:{...o.sessionData,account:void 0,superUser:void 0}};throw u}return{statusCode:200,body:JSON.stringify(r),sessionData:{...o.sessionData,account:c,superUser:{email:i.email,firstName:i.firstName,lastName:i.lastName}}}}var ut=o=>async(t,r)=>{if(t.body){let s=JSON.parse(t.body),e={email:s.email,password:s.password};return await pe(t,r,e,s.impersonatedCustomerEmail,o)}},dt=o=>async(t,r)=>({statusCode:200,body:JSON.stringify({isSuperuser:!1,superUser:t.sessionData?.superUser}),sessionData:{...t.sessionData}}),lt=(o,t)=>async(r,s)=>{let e=await o(r,s);if(e.statusCode===200&&e?.body){let a=JSON.parse(e.body),n=v("AccountApi",t?.dependencies),c=await new n(s.frontasticContext,m(r),C(r),r).getCustomerByEmail(a.email);if(c.customerGroupId&&c.customerGroupId===t?.props.csrCustomerGroupId)return{statusCode:300,body:JSON.stringify("CSR"),sessionData:{...r.sessionData,account:void 0,superUser:void 0}}}return e},mt=(o,t)=>async(r,s)=>{let e=await o(r,s);return e.statusCode===200?{statusCode:200,body:e.body,sessionData:{...e.sessionData,superUser:void 0}}:e};var W=class{static async fetchCart(t,r,s){return await this.fetchCartFromSession(t,r,s)??await t.getAnonymous()}static async fetchCartFromSession(t,r,s){if(r.sessionData?.account!==void 0)return await t.getForUser(r.sessionData.account);if(r.sessionData?.cartId!==void 0)try{return await t.getActiveCartById(r.sessionData.cartId)}catch(e){console.info(`Error fetching the cart ${r.sessionData.cartId}. ${e}`)}}};var yt=o=>async(t,r)=>{let s=v("CartApi",o?.dependencies);if(!s)return{statusCode:401,body:JSON.stringify("Dependencies not provided: CartApi | CartFetcher")};if(t.body){let e=new s(r.frontasticContext,m(t),C(t),t),a=JSON.parse(t.body),n=await W.fetchCart(e,t,r);return n=await e.changeLineItemPrice(n,a.lineItemId,a.price),{statusCode:200,body:JSON.stringify(n),sessionData:{...t.sessionData,cartId:n.cartId}}}},Ct=(o,t)=>async(r,s)=>{let e=await o(r,s);if(e.statusCode===200&&e?.body){let a=JSON.parse(e.body),n=r.sessionData?.superUser?.email;if(a&&n){let i=v("CartApi",t?.dependencies);return i?(a=await new i(s.frontasticContext,m(r),C(r),r).setSuperUserEmailOnOrder(a,n,t?.props.csrCustomTypeKey,t?.props.csrCustomFieldKey),{statusCode:200,body:JSON.stringify(a),sessionData:e.sessionData}):{statusCode:401,body:JSON.stringify("Dependencies not provided: CartApi")}}}return e},ft=(o,t)=>async(r,s)=>{let e=v("CartApi",t?.dependencies);if(!e)return{statusCode:401,body:JSON.stringify("Dependencies not provided: CartApi")};let a=new e(s.frontasticContext,m(r),C(r),r),n=r.sessionData?.account!==void 0?r.sessionData.account:void 0;if(n===void 0)return{statusCode:500};let i=await a.getOrders(n);return{statusCode:200,body:JSON.stringify(i)}};var ue={actions:[{action:"login",actionNamespace:"account",hook:lt},{action:"logout",actionNamespace:"account",hook:mt},{action:"loginCSR",actionNamespace:"account",hook:ut,create:!0},{action:"checkout",actionNamespace:"cart",hook:Ct},{action:"getOrders",actionNamespace:"cart",hook:ft},{action:"changePrice",actionNamespace:"cart",hook:yt,create:!0},{action:"getSuperuser",actionNamespace:"account",hook:dt,create:!0}]},gt=ue;var At=o=>class extends o{constructor(){super(...arguments);this.createSuperuserCart=async(s,e)=>{let a=await this.getCommercetoolsLocal(),n={currency:a.currency,country:a.country,locale:a.language,store:{key:s,typeId:"store"},inventoryMode:"ReserveOnOrder"};return e?n.origin="Merchant":n.customerId=this.accountId,await this.associateEndpoints(this.accountId,this.businessUnitKey).carts().post({queryArgs:{expand:["lineItems[*].discountedPrice.includedDiscounts[*].discount","discountCodes[*].discountCode","paymentInfo.payments[*]"]},body:n}).execute().then(async i=>await this.buildCartWithAvailableShippingMethods(i.body,a)).catch(i=>{throw new Error(i.message)})};this.setOriginalCustomerData=async(s,e,a,n)=>{let i={version:+s.version,actions:[{action:"setCustomType",type:{typeId:"type",key:a},fields:{[n]:e}}]};return this.requestBuilder().carts().withId({ID:s.id}).post({body:i}).execute().then(c=>c.body).catch(c=>{throw new Error(c.message)})};this.setSuperUserEmailOnOrder=async(s,e,a,n,i,c)=>{let p={version:+e,actions:[{action:"setCustomType",type:{typeId:"type",key:i},fields:{[c]:n}}]};return a&&p.actions.push({action:"setCustomerEmail",email:a}),this.requestBuilder().orders().withId({ID:s}).post({body:p}).execute().then(u=>u.body).catch(u=>{throw new Error(u.message)})};this.setOriginalCustomerDataOnCart=async(s,e,a)=>{let n={version:+e,actions:[{action:"setCustomerEmail",email:a}]};return this.requestBuilder().carts().withId({ID:s}).post({body:n}).execute().then(i=>i.body).catch(i=>{throw new Error(i.message)})}}async getByPureId(s){let e=await this.getCommercetoolsLocal();return await this.requestBuilder().carts().withId({ID:s}).get({queryArgs:{limit:1,expand:["lineItems[*].discountedPrice.includedDiscounts[*].discount","discountCodes[*].discountCode","paymentInfo.payments[*]"]}}).execute().then(a=>this.buildCartWithAvailableShippingMethods(a.body,e)).catch(a=>{throw new Error(a.message)})}async getCommercetoolsCartById(s){return await this.requestBuilder().carts().withId({ID:s}).get({queryArgs:{limit:1,expand:["lineItems[*].discountedPrice.includedDiscounts[*].discount","discountCodes[*].discountCode","paymentInfo.payments[*]"]}}).execute().then(e=>e.body)}async getCommercetoolsOrderById(s){return await this.requestBuilder().orders().withId({ID:s}).get({queryArgs:{limit:1,expand:["lineItems[*].discountedPrice.includedDiscounts[*].discount","discountCodes[*].discountCode","paymentInfo.payments[*]"]}}).execute().then(e=>e.body)}async getAllSuperuserCartsInStore(s){let e=['cartState="Active"',`store(key="${s}")`,`businessUnit(key="${this.businessUnitKey}")`];return await this.requestBuilder().carts().get({queryArgs:{limit:15,expand:["lineItems[*].discountedPrice.includedDiscounts[*].discount","discountCodes[*].discountCode","paymentInfo.payments[*]","createdBy.associate"],where:e,sort:"createdAt desc"}}).execute().then(a=>a.body.count>=1?a.body.results:[]).catch(a=>{throw new Error(a.message)})}};var g=(o,t)=>{if(t?.dependencies?.[o])switch(o){case"BusinessUnitApi":return t?.dependencies.BusinessUnitApi;case"CartApi":return At(t.dependencies.CartApi);case"CartMapper":return t?.dependencies.CartMapper;case"EmailApiFactory":return t?.dependencies.EmailApiFactory}};var f=(o,t,r)=>{let s=H(o),e=k(o),a=M(o),n=j(o);return new r(t,m(o),C(o),s?.accountId,e,a,n)};var ht=(o,t)=>async(r,s)=>{let e=await o(r,s);if(e.statusCode===200&&e?.body){let a=g("BusinessUnitApi",t);if(!a)return{statusCode:401,body:JSON.stringify("Dependencies not provided: BusinessUnitApi")};let i=await new a(s.frontasticContext,m(r),C(r)).getByKeyForAccount(e.sessionData.businessUnitKey,e.sessionData.account.accountId);if(i?.associates&&!x(r)){let c=i.associates.some(u=>u.roles?.some(d=>d.key===t?.props?.superuserRoleKey)&&u.accountId===e.sessionData.account.accountId);return{...e,sessionData:{...e.sessionData,superuser:c}}}return e}return e},It=o=>async(t,r)=>{if(!x(t))return{statusCode:200,body:JSON.stringify({isSuperuser:!1}),sessionData:{...t.sessionData}};let s=g("CartApi",o),e=f(t,r.frontasticContext,s),a=O(t),n=await e.getAllSuperuserCartsInStore(a);return{statusCode:200,body:JSON.stringify({isSuperuser:!0,carts:n}),sessionData:{...t.sessionData}}},Rt=(o,t)=>async(r,s)=>{let e=await o(r,s);return{...e,sessionData:{...e.sessionData,superuser:void 0}}};var de=o=>{try{return o?JSON.parse(o):null}catch(t){return console.error("Error parsing request body",t),null}},A=de;var bt=o=>async(t,r)=>{let s=[];if(x(t)){let a=g("CartApi",o),n=f(t,r.frontasticContext,a),i=O(t);return s=await n.getAllSuperuserCartsInStore(i),{statusCode:200,body:JSON.stringify(s),sessionData:{...t.sessionData}}}return{statusCode:200,body:JSON.stringify([]),sessionData:{...t.sessionData}}},wt=o=>async(t,r)=>{if(x(t)){let e=g("CartApi",o),a=f(t,r.frontasticContext,e),n=t.query?.id,i=A(t.body),c=await a.getByPureId(n),p=await a.getCommercetoolsCartById(c.cartId),u=c.cartId;return i?.email&&await a.setOriginalCustomerData(p,i?.email||"",o?.props.cart.customTypeKey,o?.props.cart.originalEmailFieldKey),{statusCode:200,body:JSON.stringify(c),sessionData:{...t.sessionData,cartId:u}}}return{statusCode:500,body:JSON.stringify({statusCode:500,message:"Not a superuser"}),sessionData:{...t.sessionData}}},vt=o=>async(t,r)=>{if(x(t)){let e=g("CartApi",o),a=f(t,r.frontasticContext,e),n=O(t),i=await a.createSuperuserCart(n,!0),c=i.cartId;return{statusCode:200,body:JSON.stringify(i),sessionData:{...t.sessionData,cartId:c}}}return{statusCode:500,body:JSON.stringify({statusCode:500,message:"Not a superuser"}),sessionData:{...t.sessionData}}},St=(o,t)=>async(r,s)=>{let e=m(r),a=g("CartApi",t),n=f(r,s.frontasticContext,a),i=r.sessionData?.cartId;if(!i||!t?.props.cart.originalEmailFieldKey)return o(r,s);let p=(await n.getCommercetoolsCartById(i))?.custom?.fields?.[t.props.cart.originalEmailFieldKey],u=await o(r,s);if(u.statusCode===200&&u?.body){let d=JSON.parse(u?.body);if(x(r)&&d){let _=d?.orderId;_&&(await n.setSuperUserEmailOnOrder(_,d.orderVersion,p,r.sessionData?.account?.email,t?.props.cart.customTypeKey,t?.props.cart.superuserEmailFieldKey),g("EmailApiFactory",t).getDefaultApi(s.frontasticContext,e).sendOrderConfirmationEmail({...d,email:p}))}}return u},xt=(o,t)=>async(r,s)=>{let e=await o(r,s);if(e.statusCode===200&&e?.body){let a=A(r.body),n=JSON.parse(e?.body),i=g("CartApi",t),c=f(r,s.frontasticContext,i),p=await c.getCommercetoolsCartById(n.cartId);return a?.email&&await c.setOriginalCustomerData(p,a?.email,t?.props.cart.customTypeKey,t?.props.cart.originalEmailFieldKey),e}return e};var Dt=(o,t)=>async(r,s)=>{let e=g("CartApi",t),a=f(r,s.frontasticContext,e),n=r.sessionData?.cartId;if(!n||!t?.props.cart.originalEmailFieldKey)return o(r,s);let i=await a.getCommercetoolsCartById(n),c=i?.custom?.fields?.[t.props.cart.originalEmailFieldKey];return await a.setOriginalCustomerDataOnCart(n,i.version,c),await o(r,s)};var L=class{static mergeCommercetoolsOrderToOrder(t,r,s){return{...r,...t?.custom?.fields?.[s.props.cart.superuserEmailFieldKey]&&{superuserEmail:t?.custom?.fields?.[s.props.cart.superuserEmailFieldKey]}}}};var Pt=async(o,t,r,s)=>{if(!r.dataSourcePayload.order){let a=g("CartApi",s),n=f(o,t.frontasticContext,a),i={orderIds:[o.query?.orderId]},c=await n.queryOrders(i);if(c?.items.length>0)return{...r,dataSourcePayload:{...r.dataSourcePayload,order:c.items[0]}}}return r},Ot=async(o,t,r,s)=>{if(r.dataSourcePayload?.order){let e=r.dataSourcePayload?.order,a=g("CartApi",s),i=await f(o,t.frontasticContext,a).getCommercetoolsOrderById(e.orderId),c=L.mergeCommercetoolsOrderToOrder(i,r.dataSourcePayload?.order,s);return{...r,dataSourcePayload:{...r.dataSourcePayload,order:c}}}return r};var le={dynamicPageHandlers:{"frontastic/thank-you-page":{hook:Pt,create:!1},"frontastic/order-page":{hook:Ot,create:!1}},actions:[{action:"login",actionNamespace:"account",hook:ht},{action:"getAllSuperuserCartsInStore",actionNamespace:"cart",hook:bt,create:!0},{action:"getSuperuser",actionNamespace:"account",hook:It,create:!0},{action:"logout",actionNamespace:"account",hook:Rt},{action:"setCart",actionNamespace:"cart",hook:wt,create:!0},{action:"createSuperuserCart",actionNamespace:"cart",hook:vt,create:!0},{action:"checkout",actionNamespace:"cart",hook:St},{action:"reassignCart",actionNamespace:"cart",hook:xt},{action:"createQuoteRequest",actionNamespace:"quote",hook:Dt}]},Ft=le;var Nt=(o,t)=>class extends o{async getCommercetoolsCartById(s){return await this.associateEndpoints(this.accountId,this.businessUnitKey).carts().withId({ID:s}).get({queryArgs:{limit:1,expand:["lineItems[*].discountedPrice.includedDiscounts[*].discount","discountCodes[*].discountCode","paymentInfo.payments[*]"]}}).execute().then(e=>e.body)}async addLinkedLineitemsToCart(s,e,a,n){let i=await this.getCommercetoolsLocal(),c={version:e,actions:[]};n?.forEach(u=>{let d={action:"addLineItem",sku:u.variant.sku,quantity:+u.count||1,...this.distributionChannelId&&{distributionChannel:{typeId:"channel",id:this.distributionChannelId}},...this.supplyChannelId&&{supplyChannel:{typeId:"channel",id:this.supplyChannelId}},custom:{type:{key:t?.props.lineItem.customTypeKey,typeId:"type"},fields:{[t.props.lineItem.parentIdCustomFieldKey]:a}}};c.actions.push(d)});let p=await this.updateCart(s,c);return await this.buildCartWithAvailableShippingMethods(p,i)}async removeLinkedLineitemsFromCart(s,e){let a=await this.getCommercetoolsLocal(),n=s.lineItems.filter(p=>p.parentId===e),i={version:+s.cartVersion,actions:[]};n?.forEach(p=>{let u={action:"removeLineItem",lineItemId:p.lineItemId};i.actions.push(u)});let c=await this.updateCart(s.cartId,i);return await this.buildCartWithAvailableShippingMethods(c,a)}async updateLinkedLineitemsInCart(s,e){let a=await this.getCommercetoolsLocal(),n=s.lineItems.filter(p=>p.parentId===e.id),i={version:+s.cartVersion,actions:[]};n?.forEach(p=>{let u={action:"changeLineItemQuantity",lineItemId:p.lineItemId,quantity:e.count};i.actions.push(u)});let c=await this.updateCart(s.cartId,i);return await this.buildCartWithAvailableShippingMethods(c,a)}};var D=(o,t)=>{if(t?.dependencies?.[o])switch(o){case"CartApi":return Nt(t?.dependencies.CartApi,t);case"ProductApi":return t?.dependencies.ProductApi}};var K=class K{};K.mergeParentIdToCart=(t,r,s)=>({...t,lineItems:K.mergeParentIdToLineItem(t.lineItems,r.lineItems,s)}),K.mergeParentIdToLineItem=(t,r,s)=>t.map(e=>({...e,...s?.props.lineItem.parentIdCustomFieldKey&&{parentId:r.find(a=>a.id===e.lineItemId)?.custom?.fields?.[s.props.lineItem.parentIdCustomFieldKey]}}));var I=K;var Tt=(o,t)=>async(r,s)=>{let e=await o(r,s);if(e.statusCode===200&&e?.body){let a=JSON.parse(e?.body),n=D("CartApi",t);if(!n)return{statusCode:401,body:JSON.stringify("Dependencies not provided: CartApi")};let c=await f(r,s.frontasticContext,n).getCommercetoolsCartById(a.cartId);return a=I.mergeParentIdToCart(a,c,t),{...e,statusCode:200,body:JSON.stringify(a)}}return e},Bt=(o,t)=>async(r,s)=>{let e=await o(r,s);if(!A(r.body))return e;if(e.statusCode===200&&e?.body){let n=JSON.parse(e?.body),i=D("CartApi",t);if(!i)return{statusCode:401,body:JSON.stringify("Dependencies not provided: CartApi")};if(!t?.props.lineItem.customTypeKey||!t?.props.lineItem.parentIdCustomFieldKey)return e;let p=await f(r,s.frontasticContext,i).getCommercetoolsCartById(n.cartId);return n=I.mergeParentIdToCart(n,p,t),{...e,statusCode:200,body:JSON.stringify(n)}}return e},kt=o=>async(t,r)=>{let s=A(t.body),e=D("CartApi",o);if(!e)return{statusCode:401,body:JSON.stringify("Dependencies not provided: CartApi")};if(!o?.props.lineItem.customTypeKey||!o?.props.lineItem.parentIdCustomFieldKey)return{statusCode:401,body:JSON.stringify("Config not provided: lineItem.customTypeKey or lineItem.parentIdCustomFieldKey")};let a=f(t,r.frontasticContext,e),n=ot(t),i=await a.getCommercetoolsCartById(n);if(i){let p=me(i,s);if(p&&s?.configurableComponents?.length){let u=await a.addLinkedLineitemsToCart(i.id,i.version,p,s.configurableComponents);return i=await a.getCommercetoolsCartById(n),u=I.mergeParentIdToCart(u,i,o),{statusCode:200,body:JSON.stringify(u),sessionData:t.sessionData}}}return{statusCode:503,body:JSON.stringify({statusCode:503,message:"Error in addComponentsToCart"}),sessionData:t.sessionData}},Ht=(o,t)=>async(r,s)=>{let e=await o(r,s),a=A(r.body);if(!a)return e;if(e.statusCode===200&&e?.body){let n=JSON.parse(e?.body),i=D("CartApi",t);if(!i)return{statusCode:401,body:JSON.stringify("Dependencies not provided: CartApi")};let c=f(r,s.frontasticContext,i),p=await c.getCommercetoolsCartById(n.cartId);n=I.mergeParentIdToCart(n,p,t);let u=a.lineItem?.id;if(u)return n=await c.removeLinkedLineitemsFromCart(n,u),n=I.mergeParentIdToCart(n,p,t),{...e,statusCode:200,body:JSON.stringify(n)}}return e},Et=(o,t)=>async(r,s)=>{let e=await o(r,s),a=A(r.body);if(!a)return e;if(e.statusCode===200&&e?.body){let n=JSON.parse(e?.body),i=D("CartApi",t);if(!i)return{statusCode:401,body:JSON.stringify("Dependencies not provided: CartApi")};let c=f(r,s.frontasticContext,i),p=await c.getCommercetoolsCartById(n.cartId);if(n=I.mergeParentIdToCart(n,p,t),a.lineItem)return n=await c.updateLinkedLineitemsInCart(n,a.lineItem),p=await c.getCommercetoolsCartById(n.cartId),n=I.mergeParentIdToCart(n,p,t),{...e,statusCode:200,body:JSON.stringify(n)}}return e},me=(o,t)=>o.lineItems.find(r=>t?.lineItems.find(s=>r.variant.sku===s.variant?.sku))?.id;var J=class J{};J.getBundles=async(t,r,s,e)=>{let a=P(t)?.match(e.props.product.productDetailsPageRegex),n=D("ProductApi",e);if(!n)throw new Error("ProductApi not found");let i=[];if(a){let c=s.variants;if(c.length){c.forEach(u=>{let d=e.props.product.attributeName;i.push(...J.getProductIdsFromReferencedAttribute(d,u))});let p=i.filter((u,d,l)=>l.indexOf(u)===d);if(p.length)return await new n(r,m(t),C(t),t).query({productIds:p,storeKey:O(t),storeId:et(t),distributionChannelId:M(t),supplyChannelId:j(t)}).then(l=>l.items)}}return[]},J.getProductIdsFromReferencedAttribute=(t,r)=>{let s=r.attributes?.[t];return s&&Array.isArray(s)?s?.map(e=>e.id):s?[s.id]:[]};var $=J;var Ut=(o,t,r,s)=>{let e=r.dataSourcePayload.product;return $.getBundles(o,t.frontasticContext,e,s).then(a=>({dynamicPageType:r.dynamicPageType,dataSourcePayload:{...r.dataSourcePayload,configurableComponents:a},pageMatchingPayload:r.pageMatchingPayload}))};var ye={actions:[{action:"addToCart",actionNamespace:"cart",hook:Bt},{action:"addComponentsToCart",actionNamespace:"cart",hook:kt,create:!0},{action:"getCart",actionNamespace:"cart",hook:Tt},{action:"updateLineItem",actionNamespace:"cart",hook:Et},{action:"removeLineItem",actionNamespace:"cart",hook:Ht}],dynamicPageHandlers:{"frontastic/product-page":{hook:Ut,create:!1}}},Lt=ye;var S=class{static mapCommercetoolsFlowToDomainFlow(t,r,s){return{...t,...t.order?.obj&&{order:r.commercetoolsOrderToOrder(t.order.obj,s)}}}static calculatePreviousCursor(t,r){return t-r>=0?`offset:${t-r}`:void 0}static calculateNextCursor(t,r,s){return t+r<s?`offset:${t+r}`:void 0}};var Q=o=>{if(o===void 0)return;let t=o.match(/(?<=offset:).+/);return t!==null?+Object.values(t)[0]:void 0};var Kt=(o,t)=>{let r=y("CartMapper",t);return class extends o{constructor(a,n,i,c,p){super(a,n,i);this.query=async a=>{let n=await this.getCommercetoolsLocal(),i=+a.limit||void 0,c=[];a.sortAttributes?Object.keys(a.sortAttributes).map((u,d)=>{c.push(`${u} ${Object.values(a.sortAttributes)[d]}`)}):c.push("createdAt desc");let p=[];return a.flowIds!==void 0&&a.flowIds.length!==0&&p.push(`id in ("${a.flowIds.join('","')}")`),a.flowStates!==void 0&&a.flowStates.length>0&&p.push(`status in ("${a.flowStates.join('","')}")`),a.created?.from!==void 0&&p.push(`createdAt > "${a.created.from.toISOString()}"`),a.created?.to!==void 0&&p.push(`createdAt < "${a.created.to.toISOString()}"`),this.associateEndpoints(this.accountId,this.businessUnitKey).approvalFlows().get({queryArgs:{where:p,expand:"order",limit:i,offset:Q(a.cursor),sort:c}}).execute().then(u=>{let d=u.body.results.length;return{items:u.body.results.map(l=>S.mapCommercetoolsFlowToDomainFlow(l,r,n)),count:d,total:u.body.total,previousCursor:S.calculatePreviousCursor(u.body.offset,d),nextCursor:S.calculateNextCursor(u.body.offset,d,u.body.total??0)}})};this.get=async a=>{let n=await this.getCommercetoolsLocal();return this.associateEndpoints(this.accountId,this.businessUnitKey).approvalFlows().withId({ID:a}).get({queryArgs:{expand:"order"}}).execute().then(i=>S.mapCommercetoolsFlowToDomainFlow(i.body,r,n))};this.getFlowByOrderId=async a=>{let n=await this.getCommercetoolsLocal(),i=`order(id="${a}")`;return this.associateEndpoints(this.accountId,this.businessUnitKey).approvalFlows().get({queryArgs:{where:i}}).execute().then(c=>{if(c.body.total!==1)throw"Order not found";return S.mapCommercetoolsFlowToDomainFlow(c.body.results[0],r,n)})};this.update=async(a,n)=>{let i=await this.getCommercetoolsLocal();return this.get(a).then(async c=>this.associateEndpoints(this.accountId,this.businessUnitKey).approvalFlows().withId({ID:a}).post({body:{version:c.version,actions:n}}).execute().then(p=>S.mapCommercetoolsFlowToDomainFlow(p.body,r,i)))};this.accountId=c,this.businessUnitKey=p}}};var R=class{static mapCommercetoolsRuleToDomainRule(t,r){return{...t}}static calculatePreviousCursor(t,r){return t-r>=0?`offset:${t-r}`:void 0}static calculateNextCursor(t,r,s){return t+r<s?`offset:${t+r}`:void 0}};var Jt=(o,t)=>class extends o{constructor(e,a,n,i,c){super(e,a,n);this.query=async e=>{let a=await this.getCommercetoolsLocal(),n=+e.limit||void 0,i=[];e.sortAttributes?Object.keys(e.sortAttributes).map((p,u)=>{i.push(`${p} ${Object.values(e.sortAttributes)[u]}`)}):i.push("createdAt desc");let c=[];return e.predicate!==void 0&&c.push(`predicate="${e.predicate}"`),e.ruleIds!==void 0&&e.ruleIds.length>0&&c.push(`id in ("${e.ruleIds.join('","')}")`),e.ruleStates!==void 0&&e.ruleStates.length>0&&c.push(`status in ("${e.ruleStates.join('","')}")`),e.created?.from!==void 0&&c.push(`createdAt > "${e.created.from.toISOString()}"`),e.created?.to!==void 0&&c.push(`createdAt < "${e.created.to.toISOString()}"`),this.associateEndpoints(this.accountId,this.businessUnitKey).approvalRules().get({queryArgs:{where:c,expand:"order",limit:n,offset:Q(e.cursor),sort:i}}).execute().then(p=>{let u=p.body.results.length;return{items:p.body.results.map(d=>R.mapCommercetoolsRuleToDomainRule(d,a)),count:u,total:p.body.total,previousCursor:R.calculatePreviousCursor(p.body.offset,u),nextCursor:R.calculateNextCursor(p.body.offset,u,p.body.total??0)}})};this.get=async e=>{let a=await this.getCommercetoolsLocal();return this.associateEndpoints(this.accountId,this.businessUnitKey).approvalRules().withId({ID:e}).get({queryArgs:{expand:"order"}}).execute().then(n=>R.mapCommercetoolsRuleToDomainRule(n.body,a))};this.create=async e=>{let a=await this.getCommercetoolsLocal();return this.associateEndpoints(this.accountId,this.businessUnitKey).approvalRules().post({body:{...e}}).execute().then(n=>R.mapCommercetoolsRuleToDomainRule(n.body,a))};this.update=async(e,a)=>{let n=await this.getCommercetoolsLocal();return this.get(e).then(i=>this.associateEndpoints(this.accountId,this.businessUnitKey).approvalRules().withId({ID:e}).post({body:{version:i.version,actions:a}}).execute().then(c=>R.mapCommercetoolsRuleToDomainRule(c.body,n)))};this.duplicate=async(e,a)=>{let n=await this.getCommercetoolsLocal();return this.associateEndpoints(this.accountId,e).approvalRules().post({body:{...a}}).execute().then(i=>R.mapCommercetoolsRuleToDomainRule(i.body,n))};this.accountId=i,this.businessUnitKey=c}};var y=(o,t)=>{if(t)switch(o){case"ApprovalFlowApi":return Kt(t?.dependencies.BaseApi,t);case"ApprovalRuleApi":return Jt(t?.dependencies.BaseApi,t);case"CartMapper":return t?.dependencies.CartMapper}};var Ce=(o,t)=>{let r=[],s=t?.[o];if(s)if(Array.isArray(s))r.push(...s);else{let e=s.split(",");e.length>1?r.push(...e):r.push(s)}return r},F=Ce;function fe(o,t){let r=[],s=t?.[o];if(s)if(Array.isArray(s))r.push(...s);else{let e=s.split(",");e.length>1?r.push(...e):r.push(s)}return r}var N=fe;var V=class V{static queryParamsToSortAttributes(t){let r={};if(t.sortAttributes){let s;for(s of Object.values(t.sortAttributes)){let e=Object.keys(s)[0];r[e]=s[e]?s[e]:"ascending"}}return r}};V.queryFromParams=t=>({limit:t.query?.limit??void 0,cursor:t.query?.cursor??void 0,sortAttributes:V.queryParamsToSortAttributes(t.query),predicate:t.query?.predicate,ruleIds:N("ruleIds",t.query),ruleStates:F("ruleStates",t.query),created:{from:t.query?.createdFrom?new Date(t.query?.createdFrom):void 0,to:t.query?.createdTo?new Date(t.query?.createdTo):void 0}});var G=V;var T=(o,t,r)=>{let s=H(o),e=k(o);if(!s?.accountId)throw new Error("Not logged in");return new r(t,m(o),C(o),s.accountId,e)},qt=o=>async(t,r)=>{let s=y("ApprovalRuleApi",o),e=T(t,r.frontasticContext,s);try{let a=G.queryFromParams(t),n=await e.query(a);return{statusCode:200,body:JSON.stringify(n),sessionData:t.sessionData}}catch(a){return{statusCode:401,body:JSON.stringify(a.message||a.body?.message||a)}}},Mt=o=>async(t,r)=>{let s=t.query?.approvalRuleId,e=y("ApprovalRuleApi",o),a=T(t,r.frontasticContext,e);try{let n=await a.get(s);return{statusCode:200,body:JSON.stringify(n),sessionData:t.sessionData}}catch(n){return{statusCode:401,body:JSON.stringify(n.message||n.body?.message||n)}}},jt=o=>async(t,r)=>{let s=y("ApprovalRuleApi",o),e=T(t,r.frontasticContext,s),a=A(t.body);try{let n=await e.create(a);return{statusCode:200,body:JSON.stringify(n),sessionData:t.sessionData}}catch(n){return{statusCode:401,body:JSON.stringify(n.message||n.body?.message||n)}}},Wt=o=>async(t,r)=>{let s=y("ApprovalRuleApi",o),e=T(t,r.frontasticContext,s),a=t.query?.approvalRuleId,n=A(t.body),i=await e.get(a),c={approvers:i.approvers,name:i.name,predicate:i.predicate,requesters:i.requesters,status:i.status,description:i.description},p=n?.businessUnitKeys.map(u=>e.duplicate(u,c))||[];try{let u=await Promise.allSettled(p).then(l=>l),d=u.filter(l=>l.status==="rejected").map(l=>l.reason);if(d.length)throw d.join(". ");return{statusCode:200,body:JSON.stringify(u),sessionData:t.sessionData}}catch(u){return{statusCode:500,body:JSON.stringify(u.message||u.body?.message||u)}}},$t=o=>async(t,r)=>{let s=y("ApprovalRuleApi",o),e=T(t,r.frontasticContext,s),a=t.query?.approvalRuleId;try{let n={action:"setStatus",status:"Active"},i=await e.update(a,[n]);return{statusCode:200,body:JSON.stringify(i),sessionData:t.sessionData}}catch(n){return{statusCode:500,body:JSON.stringify(n.message||n.body?.message||n)}}},Qt=o=>async(t,r)=>{let s=y("ApprovalRuleApi",o),e=T(t,r.frontasticContext,s),a=t.query?.approvalRuleId;try{let n={action:"setStatus",status:"Inactive"},i=await e.update(a,[n]);return{statusCode:200,body:JSON.stringify(i),sessionData:t.sessionData}}catch(n){return{statusCode:500,body:JSON.stringify(n.message||n.body?.message||n)}}},Gt=o=>async(t,r)=>{let s=y("ApprovalRuleApi",o),e=T(t,r.frontasticContext,s),a=t.query?.approvalRuleId;try{let n=A(t.body),i=[],c=await e.get(a);if(!n)return{statusCode:401,body:JSON.stringify("Body is empty")};n?.name&&n.name!==c.name&&i.push({action:"setName",name:n.name}),n.description&&n.description!==c.description&&i.push({action:"setDescription",description:n.description}),n.requesterKeys&&i.push({action:"setRequesters",requesters:n.requesterKeys.map(u=>({associateRole:{typeId:"associate-role",key:u}}))}),n.predicate&&n.predicate!==c.predicate&&i.push({action:"setPredicate",predicate:n.predicate});let p=await e.update(a,i);return{statusCode:200,body:JSON.stringify(p),sessionData:t.sessionData}}catch(n){return{statusCode:401,body:JSON.stringify(n.message||n.body?.message||n)}}};var z=class z{static queryParamsToSortAttributes(t){let r={};if(t.sortAttributes){let s;for(s of Object.values(t.sortAttributes)){let e=Object.keys(s)[0];r[e]=s[e]?s[e]:"ascending"}}return r}};z.queryFromParams=t=>({limit:t.query?.limit??void 0,cursor:t.query?.cursor??void 0,sortAttributes:z.queryParamsToSortAttributes(t.query),flowIds:N("flowIds",t.query),flowStates:F("flowStates",t.query),created:{from:t.query?.createdFrom?new Date(t.query?.createdFrom):void 0,to:t.query?.createdTo?new Date(t.query?.createdTo):void 0}});var Y=z;var h=(o,t,r)=>{let s=H(o),e=k(o);if(!s?.accountId)throw new Error("Not logged in");return new r(t,m(o),C(o),s.accountId,e)};var Vt=o=>async(t,r)=>{let s=y("ApprovalFlowApi",o),e=h(t,r.frontasticContext,s);try{let a=Y.queryFromParams(t),n=await e.query(a);return{statusCode:200,body:JSON.stringify(n),sessionData:t.sessionData}}catch(a){return{statusCode:401,body:JSON.stringify(a.message||a.body?.message||a)}}},Yt=o=>async(t,r)=>{let s=t.query?.approvalFlowId,e=y("ApprovalFlowApi",o),a=h(t,r.frontasticContext,e);try{let n=await a.get(s);return{statusCode:200,body:JSON.stringify(n),sessionData:t.sessionData}}catch(n){return{statusCode:401,body:JSON.stringify(n.message||n.body?.message||n)}}},zt=o=>async(t,r)=>{let s=t.query?.orderId,e=y("ApprovalFlowApi",o),a=h(t,r.frontasticContext,e);try{let n=await a.getFlowByOrderId(s);return{statusCode:200,body:JSON.stringify(n),sessionData:t.sessionData}}catch(n){return{statusCode:401,body:JSON.stringify(n.message||n.body?.message||n)}}},Xt=o=>async(t,r)=>{let s=t.query?.approvalFlowId,e=y("ApprovalFlowApi",o),a=h(t,r.frontasticContext,e);try{let n={action:"approve"},i=await a.update(s,[n]);return{statusCode:200,body:JSON.stringify(i),sessionData:t.sessionData}}catch(n){return{statusCode:401,body:JSON.stringify(n.message||n.body?.message||n)}}},Zt=o=>async(t,r)=>{let s=t.query?.approvalFlowId,e=y("ApprovalFlowApi",o),a=h(t,r.frontasticContext,e),n=A(t.body);try{let i={action:"reject",reason:n?.reason},c=await a.update(s,[i]);return{statusCode:200,body:JSON.stringify(c),sessionData:t.sessionData}}catch(i){return{statusCode:401,body:JSON.stringify(i.message||i.body?.message||i)}}};function ge(o,t,r){let s=y("ApprovalFlowApi",r),e=h(o.request,o.frontasticContext,s),a={limit:o.request?.query?.limit??void 0,cursor:o.request?.query?.cursor??void 0,flowIds:N("flowIds",o.request?.query),flowStates:F("flowStates",o.request?.query)};return{approvalFlowApi:e,flowQuery:a}}function Ae(o,t,r){let s=y("ApprovalRuleApi",r),e=h(o.request,o.frontasticContext,s),a={limit:o.request?.query?.limit??void 0,cursor:o.request?.query?.cursor??void 0,ruleIds:N("ruleIds",o.request?.query),ruleStates:F("ruleStates",o.request?.query)};return{approvalRulepi:e,ruleQuery:a}}var _t={"frontastic/approval-flow":{create:!0,hook:o=>async(t,r)=>{let{approvalFlowApi:s,flowQuery:e}=ge(r,t,o);return await s.query(e).then(a=>({dataSourcePayload:{flow:a.items?.[0]}}))}},"frontastic/approval-rule":{create:!0,hook:o=>async(t,r)=>{let{approvalRulepi:s,ruleQuery:e}=Ae(r,t,o);return await s.query(e).then(a=>({dataSourcePayload:{rule:a.items?.[0]}}))}}};var te=/\/approval-flow\/([^\/]+)/,ee=/\/approval-rule\/([^\/]+)/,b=class{static identifyRuleFrom(t){return!!P(t)?.match(ee)}static identifyFlowFrom(t){return!!P(t)?.match(te)}};b.loadFlowFor=async(t,r,s)=>{let e=y("ApprovalFlowApi",s),a=h(t,r,e),n=P(t)?.match(te);return n?await a.get(n[1]):null},b.loadRuleFor=async(t,r,s)=>{let e=y("ApprovalRuleApi",s),a=h(t,r,e),n=P(t)?.match(ee);return n?await a.get(n[1]):null};var oe=(o,t,r)=>{if(b.identifyFlowFrom(o))return b.loadFlowFor(o,t.frontasticContext,r).then(s=>s?{dynamicPageType:"frontastic/approval-flow-page",dataSourcePayload:{flow:s},pageMatchingPayload:{flow:s}}:null)},re=(o,t,r)=>{if(b.identifyRuleFrom(o))return b.loadRuleFor(o,t.frontasticContext,r).then(s=>s?{dynamicPageType:"frontastic/approval-rule-page",dataSourcePayload:{rule:s},pageMatchingPayload:{rule:s}}:null)};var he={dataSources:_t,dynamicPageHandlers:{"frontastic/approval-flow-page":{hook:oe,create:!0},"frontastic/approval-rule-page":{hook:re,create:!0}},actions:[{action:"getApprovalFlows",actionNamespace:"approval",hook:Vt,create:!0},{action:"approveFlow",actionNamespace:"approval",hook:Xt,create:!0},{action:"rejectFlow",actionNamespace:"approval",hook:Zt,create:!0},{action:"getApprovalFlow",actionNamespace:"approval",hook:Yt,create:!0},{action:"getApprovalFlowByOrderId",actionNamespace:"approval",hook:zt,create:!0},{action:"getApprovalRules",actionNamespace:"approval",hook:qt,create:!0},{action:"getApprovalRule",actionNamespace:"approval",hook:Mt,create:!0},{action:"activateApprovalRule",actionNamespace:"approval",hook:$t,create:!0},{action:"createApprovalRule",actionNamespace:"approval",hook:jt,create:!0},{action:"deactivateApprovalRule",actionNamespace:"approval",hook:Qt,create:!0},{action:"duplicateApprovalRule",actionNamespace:"approval",hook:Wt,create:!0},{action:"updateApprovalRule",actionNamespace:"approval",hook:Gt,create:!0}]},se=he;var E=(o,t,r)=>{let s=Ie(o,t,r),e=Re(o,t,r),a=be(o,t,r);return{...o,actions:s,"data-sources":e,"dynamic-page-handler":a}};function Ie(o,t,r){let s=o.actions||{};return t.actions.forEach(e=>{if(s[e.actionNamespace]||(s[e.actionNamespace]={}),e.create){let a=e.hook(r);s[e.actionNamespace]=Object.assign({},s[e.actionNamespace],{[e.action]:a})}else if(s[e.actionNamespace]?.[e.action]){let a=e.hook(s[e.actionNamespace][e.action],r);s[e.actionNamespace]=Object.assign({},s[e.actionNamespace],{[e.action]:a})}}),s}function Re(o,t,r){let s=o["data-sources"]||{};if(t.dataSources){for(let e in t.dataSources)if(t.dataSources[e].create){let a=t.dataSources[e].hook(r);s=Object.assign({},s,{[e]:a})}else if(s[e]){let a=t.dataSources[e].hook(s[e],r);s=Object.assign({},s,{[e]:a})}}return s}function be(o,t,r){let s=o["dynamic-page-handler"];return async(e,a)=>{let n=await s(e,a);if(t.dynamicPageHandlers&&n&&"dynamicPageType"in n&&t.dynamicPageHandlers?.[n.dynamicPageType])return t.dynamicPageHandlers[n.dynamicPageType].hook(e,a,n,r);if(!n){let i=null;for(let c=0;c<Object.keys(t.dynamicPageHandlers||{}).length;c++){let p=Object.keys(t.dynamicPageHandlers||{})[c];if(t.dynamicPageHandlers?.[p]?.create&&(i=await t.dynamicPageHandlers[p].hook(e,a,r),i))break}return i}return n}}var ys=(o,t)=>(t&&Object.keys(t.modules||{}).forEach(r=>{switch(r){case"minimum-quantity":o=E(o,nt,t.modules["minimum-quantity"]);break;case"superuser":o=E(o,gt,t.modules.superuser);break;case"configurable-products":o=E(o,Lt,t.modules["configurable-products"]);break;case"superuser-b2b":o=E(o,Ft,t.modules["superuser-b2b"]);break;case"approval-workflows":o=E(o,se,t.modules["approval-workflows"]);break;default:break}}),o);export{ys as injectExtensionsRegistry};
